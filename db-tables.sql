CREATE TABLE EVENTS_EVENTS 
(
  EVENT_ID              VARCHAR2(32) NOT NULL,
  TITLE                 VARCHAR2(256) NOT NULL,
  DESCRIPTION           CLOB,
  PLACE_ID              NUMBER,
  GROUP_ID              NUMBER,
  DEPARTMENT_ID         NUMBER,
  ROOM                  VARCHAR2(256),
  ADDRESS               VARCHAR2(256),
  CITY                  VARCHAR2(256),
  STATE                 VARCHAR2(256),
  EVENT_URL             VARCHAR2(256),
  PHOTO_URL             VARCHAR2(256),
  TICKET_URL            VARCHAR2(256),
  FACEBOOK_URL          VARCHAR2(256),
  COST                  VARCHAR2(768),
  HASHTAG               VARCHAR2(256),
  KEYWORDS              VARCHAR2(256),
  TAGS                  VARCHAR2(256),
  ALLOWS_REVIEWS        VARCHAR2(1),
  SPONSORED             VARCHAR2(1),
  VENUE_PAGE_ONLY       VARCHAR2(1),
  EXCLUDE_FROM_TRENDING VARCHAR2(1),
  VISIBILITY            VARCHAR2(32),
  FILTERS               CLOB,
  CUSTOM_FIELDS         CLOB,
  CREATED_AT            DATE NOT NULL,
  UPDATED_AT            DATE,
  DELETED_AT            DATE,
  CONSTRAINT EVENTS_EVENTS_PK PRIMARY KEY 
  (
    EVENT_ID 
  )

  ENABLE 
);

COMMENT ON COLUMN EVENTS.EVENT_ID IS '128 bit UUID. Able to be generated by client.';
COMMENT ON COLUMN EVENTS.KEYWORDS IS 'Comma separated.';
COMMENT ON COLUMN EVENTS.TAGS IS 'Comma separated.';
COMMENT ON COLUMN EVENTS.ALLOWS_REVIEWS IS '1 or 0';
COMMENT ON COLUMN EVENTS.SPONSORED IS '1 or 0';
COMMENT ON COLUMN EVENTS.VENUE_PAGE_ONLY IS '1 or 0';
COMMENT ON COLUMN EVENTS.EXCLUDE_FROM_TRENDING IS '1 or 0';
COMMENT ON COLUMN EVENTS.VISIBILITY IS '"hidden" or "logged in"';
COMMENT ON COLUMN EVENTS.FILTERS IS 'JSON object of filters';
COMMENT ON COLUMN EVENTS.CUSTOM_FIELDS IS 'JSON object of custom fields and values';

CREATE TABLE EVENTS_INSTANCES 
(
  INSTANCE_ID        NUMBER NOT NULL,
  CLIENT_INSTANCE_ID VARCHAR2(32) NOT NULL,
  EVENT_ID           VARCHAR2(32) NOT NULL,
  START_TIME         DATE NOT NULL,
  END_TIME           DATE NOT NULL,
  CONSTRAINT EVENTS_INSTANCES_PK PRIMARY KEY 
    (
      INSTANCE_ID 
    )
    ENABLE 
);

COMMENT ON COLUMN INSTANCES.INSTANCE_ID IS 'For internal use only, not seen by client';
COMMENT ON COLUMN INSTANCES.CLIENT_INSTANCE_ID IS 'Able to be generated by client';

CREATE TABLE EVENTS_GROUPS 
(
  GROUP_ID   NUMBER NOT NULL,
  NAME       VARCHAR2(256) NOT NULL,
  PAGE_NAME  VARCHAR2(256),
  CREATED_AT DATE NOT NULL,
  UPDATED_AT DATE,
  DELETED_AT DATE,
  CONSTRAINT EVENTS_GROUPS_PK PRIMARY KEY 
    (
      GROUP_ID 
    )
    ENABLE 
);

CREATE TABLE EVENTS_CUSTOM_FIELDS 
(
  CUSTOM_FIELD_ID NUMBER NOT NULL,
  NAME            VARCHAR2(256) NOT NULL,
  CREATED_AT      DATE NOT NULL,
  UPDATED_AT      DATE,
  DELETED_AT      DATE,
  CONSTRAINT EVENTS_CUSTOM_FIELDS_PK PRIMARY KEY 
    (
      CUSTOM_FIELD_ID 
    )
    ENABLE 
);

CREATE TABLE EVENTS_PLACES 
(
  PLACE_ID   NUMBER NOT NULL,
  NAME       VARCHAR2(256) NOT NULL,
  CREATED_AT DATE NOT NULL,
  UPDATED_AT DATE,
  DELETED_AT DATE,
  CONSTRAINT EVENTS_PLACES_PK PRIMARY KEY 
    (
      PLACE_ID 
    )
    ENABLE 
);

CREATE TABLE EVENTS_DEPARTMENTS 
(
  DEPARTMENT_ID NUMBER NOT NULL,
  NAME          VARCHAR2(256) NOT NULL,
  PAGE_NAME     VARCHAR2(256),
  CREATED_AT    DATE NOT NULL,
  UPDATED_AT    DATE,
  DELETED_AT    DATE,
  CONSTRAINT EVENTS_DEPARTMENTS_PK PRIMARY KEY 
    (
      DEPARTMENT_ID 
    )
    ENABLE 
);

CREATE TABLE EVENTS_FILTERS 
(
FILTER_ID  NUMBER NOT NULL,
NAME       VARCHAR2(256) NOT NULL,
CREATED_AT DATE NOT NULL,
UPDATED_AT DATE,
DELETED_AT DATE,
CONSTRAINT EVENTS_FILTERS_PK PRIMARY KEY 
  (
    FILTER_ID 
  )
  ENABLE 
);

CREATE TABLE EVENTS_FILTER_ITEMS 
(
  ITEM_ID    NUMBER NOT NULL,
  FILTER_ID  NUMBER NOT NULL,
  NAME       VARCHAR2(256) NOT NULL,
  CREATED_AT DATE NOT NULL,
  UPDATED_AT DATE,
  DELETED_AT DATE,
  CONSTRAINT EVENTS_FILTER_ITEMS_PK PRIMARY KEY 
    (
      ITEM_ID 
    )
    ENABLE 
);
